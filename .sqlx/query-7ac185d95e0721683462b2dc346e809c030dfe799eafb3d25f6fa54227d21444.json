{
  "db_name": "PostgreSQL",
  "query": "\n            INSERT INTO thread_member (user_id, thread_id, membership, joined_at)\n            VALUES ($1, $2, $3, now())\n\t\t\tON CONFLICT ON CONSTRAINT thread_member_pkey DO UPDATE SET\n    \t\t\tmembership = excluded.membership,\n                joined_at = case\n                    when excluded.membership = 'Leave'\n                    then now()\n                    else thread_member.joined_at\n                end\n            ",
  "describe": {
    "columns": [],
    "parameters": {
      "Left": [
        "Uuid",
        "Uuid",
        {
          "Custom": {
            "name": "membership",
            "kind": {
              "Enum": [
                "Join",
                "Ban",
                "Leave"
              ]
            }
          }
        }
      ]
    },
    "nullable": []
  },
  "hash": "7ac185d95e0721683462b2dc346e809c030dfe799eafb3d25f6fa54227d21444"
}
