{
  "db_name": "PostgreSQL",
  "query": "\n            WITH perms AS (\n                SELECT m.room_id, m.user_id, unnest(role.permissions) AS permission\n                FROM room_member AS m\n                JOIN role_member AS r ON r.user_id = m.user_id\n                JOIN role ON r.role_id = role.id AND role.room_id = m.room_id\n                UNION\n                SELECT m.room_id, m.user_id, unnest(role.permissions) as permission\n                FROM room_member AS m\n                JOIN role ON role.id = m.room_id\n                UNION\n                SELECT room_id, user_id, 'View' AS permission\n                FROM room_member\n            )\n            SELECT permission as \"permission!: DbPermission\"\n            FROM perms\n            WHERE user_id = $1 AND room_id = $2\n        ",
  "describe": {
    "columns": [
      {
        "ordinal": 0,
        "name": "permission!: DbPermission",
        "type_info": {
          "Custom": {
            "name": "permission",
            "kind": {
              "Enum": [
                "Admin",
                "IntegrationsManage",
                "EmojiManage",
                "EmojiUseExternal",
                "InviteCreate",
                "InviteManage",
                "MemberBan",
                "MemberBridge",
                "MemberKick",
                "MemberNicknameManage",
                "MessageAttachments",
                "MessageCreate",
                "MessageDelete",
                "MessageEmbeds",
                "MessageMassMention",
                "MessageMove",
                "MessagePin",
                "MemberNickname",
                "ReactionAdd",
                "ReactionPurge",
                "RoleApply",
                "RoleManage",
                "RoomManage",
                "ServerMetrics",
                "ServerOversee",
                "ServerReports",
                "TagApply",
                "TagManage",
                "ThreadArchive",
                "ThreadCreateChat",
                "ThreadCreateForum",
                "ThreadCreatePrivate",
                "ThreadCreatePublic",
                "ThreadCreateVoice",
                "ThreadRemove",
                "ThreadEdit",
                "ThreadForward",
                "ThreadLock",
                "ThreadManage",
                "ThreadPublish",
                "View",
                "ViewAuditLog",
                "VoiceConnect",
                "VoiceDeafen",
                "VoiceDisconnect",
                "VoiceMove",
                "VoiceMute",
                "VoicePriority",
                "VoiceSpeak",
                "VoiceVideo",
                "MessageRemove",
                "MemberTimeout"
              ]
            }
          }
        }
      }
    ],
    "parameters": {
      "Left": [
        "Uuid",
        "Uuid"
      ]
    },
    "nullable": [
      null
    ]
  },
  "hash": "c963cb253030edea2379bde2ea9c56d8b08c90c3e66717c520b19bcac265f335"
}
